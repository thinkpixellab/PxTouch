/*! PxTouch v1.1.0 | http://github.com/thinkpixellab/pxtouch */

"undefined"==typeof PxTouch&&(PxTouch={}),function(h){PxTouch.registerSpecialEvents=function(r,t,o){h.each(t,function(t,e){h.event.special[e]={setup:function(t,e,i){var s=h(this),n=s.data(r);n||((n=new o(s)).activeEventTypes=0,s.data(r,n)),n.activeEventTypes++,1===n.activeEventTypes&&n.start()},teardown:function(t){var e=h(this).data(r);e&&(e.activeEventTypes--,0===e.activeEventTypes&&e.stop())}}})}}(PxTouch.jQuery||jQuery),function(n){function t(t){this.$el=t,this.activePointers=[],this.mouseEventsEnabled=!1;var e=function(n,r){return function(t){var e,i,s=function(t){t.preventManipulation&&t.preventManipulation();var e,i,s,n,r,o,h=[],a=function(t){{if(0===t.type.indexOf("touch"))return u.TOUCH;if(0===t.type.indexOf("mouse"))return u.MOUSE}var e=t.originalEvent;switch(e.pointerType){case e.MSPOINTER_TYPE_MOUSE:case"mouse":return u.MOUSE;case e.MSPOINTER_TYPE_TOUCH:case"touch":return u.TOUCH;case e.MSPOINTER_TYPE_PEN:case"pen":return u.PEN}return u.MOUSE}(t),p=t.originalEvent,c=p.changedTouches||p.targetTouches||p.touches||[p];for(e=0,i=c.length;e<i;e++){if(s=c[e],n=r=0,s.pageX||s.pageY)n=s.pageX,r=s.pageY;else if(s.clientX||s.clientY){var l=document.documentElement;n=s.clientX+document.body.scrollLeft+l.scrollLeft,r=s.clientY+document.body.scrollTop+l.scrollTop}o=s.pointerId||s.identifier||e,h.push(new g(n,r,o,a))}return h}(t);for(e=0,i=s.length;e<i;e++)n.call(r,s[e],t)}};this.listeners={msPointer:{MSPointerDown:e(s,this),MSPointerMove:e(r,this),MSPointerUp:e(h,this),MSPointerCancel:e(o,this)},pointer:{pointerdown:e(s,this),pointermove:e(r,this),pointerup:e(h,this),pointercancel:e(o,this)},touch:{touchstart:e(i,this),touchmove:e(r,this),touchend:e(h,this),touchcancel:e(o,this)},mouse:{mousedown:e(s,this),mousemove:e(r,this),mouseup:e(h,this)}},this.docListeners={msPointer:{MSPointerUp:e(h,this)},pointer:{pointerup:e(h,this)},mouse:{mouseup:e(h,this)},touch:{mouseup:e(h,this),touchend:e(h,this)}},this.useTopDocument=!1;try{this.useTopDocument=document!==top.document}catch(t){}}function i(t,e){return this.mouseEventsEnabled&&(this.$el.off(this.listeners.mouse),n(document).off(this.docListeners.mouse),this.mouseEventsEnabled=!1),s.call(this,t,e)}function s(t,e){this.activePointers.push(t),this.triggerEvent("pxpointerstart",t,e)}function r(t,e){var i=t.indexIn(this.activePointers);0<=i&&(this.activePointers.splice(i,1,t),this.triggerEvent("pxpointermove",t,e))}function o(t,e){return h.call(this,t,e,!0)}function h(t,e,i){var s=t.indexIn(this.activePointers);0<=s&&(this.activePointers.splice(s,1),this.triggerEvent("pxpointerend",t,e,i))}t.prototype.start=function(){var t;window.navigator.pointerEnabled?(this.$el.on(this.listeners.pointer),t=this.docListeners.pointer):window.navigator.msPointerEnabled?(this.$el.on(this.listeners.msPointer),t=this.docListeners.msPointer):(t="ontouchstart"in window?(this.$el.on(this.listeners.touch),this.docListeners.touch):this.docListeners.mouse,this.$el.on(this.listeners.mouse),this.mouseEventsEnabled=!0),n(document).on(t),this.useTopDocument&&n(top.document).on(t)},t.prototype.stop=function(){this.$el.off(this.listeners.msPointer).off(this.listeners.pointer).off(this.listeners.touch).off(this.listeners.mouse),n(document).off(this.docListeners.msPointer).off(this.docListeners.pointer).off(this.docListeners.mouse),this.useTopDocument&&n(top.document).off(this.docListeners.msPointer).off(this.docListeners.pointer).off(this.docListeners.mouse),this.mouseEventsEnabled=!1,this.activePointers=[]},t.prototype.triggerEvent=function(t,e,i,s){this.$el.trigger(new n.Event(t,{pointer:e,cancelled:!0===s,activePointers:this.activePointers,originalEvent:i}))};var u={MOUSE:"mouse",TOUCH:"touch",PEN:"pen"};function g(t,e,i,s){this.x=t,this.y=e,this.id=i,this.type=s}g.prototype.getDistance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},g.prototype.indexIn=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].id===this.id)return e;return-1},PxTouch.registerSpecialEvents("pxpointers",["pxpointerstart","pxpointermove","pxpointerend"],t)}(PxTouch.jQuery||jQuery),function(p){function t(t){this.$el=t,this.paths=[];var e=p.proxy(i,this);this.listeners={pxpointerstart:e,pxpointermove:e,pxpointerend:e}}function i(t){var e,i,s,n,r,o=t.pointer,h=this.paths.length,a=0;for(n=0;n<h;n++)(e=this.paths[n]).isActive&&a++,e.id===o.id&&(r=n,i=e);t.cancelled?i&&(this.paths.splice(r,1),a-=i.isActive?1:0):(i?(i.movePointer=o,i.moveTime=(new Date).getTime()):(i=new c(o),this.paths.push(i),a++),"pxpointerend"===t.type&&i.isActive&&(a--,i.isActive=!1)),s=a<=0?"pxgestureend":0===h?"pxgesturestart":"pxgesturemove",this.$el.trigger(new p.Event(s,{paths:this.paths,cancelled:0===this.paths.length,originalEvent:t.originalEvent})),a<=0&&(this.paths=[])}function c(t){this.id=t.id,this.startPointer=t,this.startTime=(new Date).getTime(),this.movePointer=t,this.moveTime=this.startTime,this.isActive=!0}t.prototype.start=function(){this.$el.on(this.listeners)},t.prototype.stop=function(){this.$el.off(this.listeners),this.paths=[]},c.prototype.getLength=function(){return Math.abs(this.movePointer.getDistance(this.startPointer))},c.prototype.getElapsed=function(){return this.moveTime-this.startTime},c.prototype.getAngle=function(){return Math.atan2(this.movePointer.y-this.startPointer.y,this.startPointer.x-this.movePointer.x)/Math.PI*180+180},c.prototype.getDirection=function(){var t=this.getAngle();return 45<=t&&t<135?"up":135<=t&&t<225?"left":225<=t&&t<315?"down":"right"},c.prototype.angleBetween=function(t){var e=Math.abs(this.getAngle()-t.getAngle());return e=Math.min(e,360-e)},PxTouch.registerSpecialEvents("pxgestures",["pxgesturestart","pxgesturemove","pxgestureend"],t)}(PxTouch.jQuery||jQuery),function(p){var c=10,l=500,u={NONE:0,INVALID:1,TAP:2,HOLD:3};function t(t){this.$el=t,this.activeEventTypes=0,this.state=u.NONE,this.holdTimer=null;var e=p.proxy(i,this);this.listeners={pxgesturestart:e,pxgesturemove:e,pxgestureend:e}}function i(t){var e,i,s,n,r=t.paths,o=this.state,h="pxgestureend"===t.type,a=!1;t.originalEvent.which?a=3===t.originalEvent.which:t.originalEvent.button&&(a=2===t.originalEvent.button),e=o===u.INVALID||1!==r.length||a||t.cancelled?u.INVALID:(i=r[0].getLength(),c<i?u.INVALID:o===u.HOLD?u.HOLD:u.TAP),this.holdTimer||e!==u.TAP?this.holdTimer&&(e===u.INVALID||h)&&(clearTimeout(this.holdTimer),this.holdTimer=null):this.holdTimer=setTimeout((s=t,n=this,p.proxy(function(){this.state=u.HOLD,this.triggerEvent("pxholdstart",s),this.holdTimer=null},n)),l),e===u.HOLD&&h||o===u.HOLD&&e!==o?this.triggerEvent("pxholdend",t,e===u.INVALID):h&&e===u.TAP&&this.triggerEvent("pxtap",t),this.state=h?u.NONE:e}t.prototype.start=function(){this.$el.on(this.listeners)},t.prototype.stop=function(){this.$el.off(this.listeners),this.state=u.NONE},t.prototype.triggerEvent=function(t,e,i){var s=0<e.paths.length?e.paths[0].movePointer:null;this.$el.trigger(new p.Event(t,{x:s?s.x:0,y:s?s.y:0,pointerType:s?s.type:null,cancelled:!0===i,originalEvent:e.originalEvent}))},PxTouch.registerSpecialEvents("pxtaps",["pxtap","pxholdstart","pxholdend"],t)}(PxTouch.jQuery||jQuery),function(o){var h=20,a=1e3,p={NONE:0,SINGLE_TAP:1};function t(t){this.$el=t,this.activeEventTypes=0,this.state=p.NONE,this.firstX=0,this.firstY=0,this.firstTime=0,this.listeners={pxtap:o.proxy(e,this)}}function e(t){var e,i,s,n;if(this.state===p.NONE)e=p.SINGLE_TAP;else{var r=Date.now()-this.firstTime;e=a<r?p.SINGLE_TAP:(s=t.x-this.firstX,n=t.y-this.firstY,i=Math.abs(Math.sqrt(s*s+n*n)),h<i?p.SINGLE_TAP:(this.$el.trigger(new o.Event("pxdoubletap",{x:t.x,y:t.y,pointerType:t.pointerType,originalEvent:t.originalEvent})),p.NONE))}e===p.SINGLE_TAP&&(this.firstX=t.x,this.firstY=t.y,this.firstTime=Date.now()),this.state=e}t.prototype.start=function(){this.$el.on(this.listeners)},t.prototype.stop=function(){this.$el.off(this.listeners),this.state=p.NONE},PxTouch.registerSpecialEvents("pxdoubletap",["pxdoubletap"],t)}(PxTouch.jQuery||jQuery),function(l){var u=10,g=15,v=30,f={NONE:0,PINCH:1,INVALID:2};function t(t){this.$el=t,this.state=f.NONE;var e=l.proxy(i,this);this.listeners={pxgesturestart:e,pxgesturemove:e,pxgestureend:e}}function i(t){var e,i,s,n,r,o,h=t.paths,a=this.state,p="pxgestureend"===t.type;if(a!==f.INVALID){if(2<h.length||t.cancelled)this.state=f.INVALID;else if(2===h.length&&(e=h[0],i=h[1],s=e.getLength(),n=i.getLength(),(u<s||u<n)&&(g<s&&g<n?e.angleBetween(i)>=v?this.state=f.PINCH:this.state=f.INVALID:this.state=f.PINCH),this.state===f.PINCH)){r=e.movePointer.getDistance(i.movePointer),o=e.startPointer.getDistance(i.startPointer);var c={originX:(e.movePointer.x+i.movePointer.x)/2,originY:(e.movePointer.y+i.movePointer.y)/2,scale:r/o,paths:h,cancelled:!1,originalEvent:t.originalEvent};a===f.NONE?this.$el.trigger(l.Event("pxpinchstart",c)):p||this.$el.trigger(l.Event("pxpinchmove",c)),p&&this.$el.trigger(l.Event("pxpinchend",c))}this.state===f.INVALID&&a===f.PINCH&&this.$el.trigger(l.Event("pxpinchend",{originX:0,originY:0,scale:0,paths:[],cancelled:!0,originalEvent:t.originalEvent}))}p&&(this.state=f.NONE)}t.prototype.start=function(){this.$el.on(this.listeners)},t.prototype.stop=function(){this.$el.off(this.listeners),this.state=f.NONE},PxTouch.registerSpecialEvents("pxpinch",["pxpinchstart","pxpinchmove","pxpinchend"],t)}(PxTouch.jQuery||jQuery),function(o){var h=10,a=200,p={NONE:0,DRAG:1,INVALID:2};function t(t){this.$el=t,this.state=p.NONE;var e=o.proxy(i,this);this.listeners={pxgesturestart:e,pxgesturemove:e,pxgestureend:e}}function i(t){var e,i=t.paths,s=this.state,n="pxgestureend"===t.type;if(s!==p.INVALID){e=0<i.length?i[0].getLength():0;var r={paths:i,length:e,cancelled:t.cancelled,originalEvent:t.originalEvent};t.cancelled||!function(t){var e,i,s,n,r=t.length;if(1<r)for(e=0;e<r;e++)if((s=t[e]).isActive){for(n=!1,i=0;i<r;i++)if(e!==i&&s.movePointer.getDistance(t[i].movePointer)<=a){n=!0;break}if(!n)return!1}return!0}(t.paths)?(this.state=p.INVALID,r.cancelled=!0):this.state===p.NONE?h<e&&(this.state=p.DRAG,this.$el.trigger(o.Event("pxdragstart",r))):n||this.$el.trigger(o.Event("pxdragmove",r)),(s===p.DRAG&&this.state===p.INVALID||this.state===p.DRAG&&n)&&this.$el.trigger(o.Event("pxdragend",r))}n&&(this.state=p.NONE)}t.prototype.start=function(){this.$el.on(this.listeners)},t.prototype.stop=function(){this.$el.off(this.listeners),this.state=p.NONE},PxTouch.registerSpecialEvents("pxdrag",["pxdragstart","pxdragmove","pxdragend"],t)}(PxTouch.jQuery||jQuery),function(a){var p=20,c=20,l={NONE:0,SWIPE:1,INVALID:2};function t(t){this.$el=t,this.state=l.NONE,this.maxLength=0,this.angle=0;var e=a.proxy(i,this);this.listeners={pxdragstart:e,pxdragmove:e,pxdragend:e}}function i(t){var e,i,s=t.paths,n=this.state,r="pxdragend"===t.type,o=t.length;if(this.state!==l.INVALID){var h={length:o,angle:e=0<s.length?s[0].getAngle():0,paths:s,cancelled:t.cancelled,originalEvent:t.originalEvent};t.cancelled?this.state=l.INVALID:this.state===l.NONE?(this.state=l.SWIPE,this.maxLength=o,this.angle=e,this.$el.trigger(a.Event("pxswipestart",h))):(o>=this.maxLength?this.maxLength=o:this.maxLength-o>p&&(this.state=l.INVALID),i=Math.abs(this.angle-e),Math.min(i,360-i)>c&&(this.state=l.INVALID),this.state===l.INVALID||r||this.$el.trigger(a.Event("pxswipemove",h))),(n===l.SWIPE&&this.state===l.INVALID||this.state===l.SWIPE&&r)&&(h.cancelled=this.state===l.INVALID,this.$el.trigger(a.Event("pxswipeend",h)))}r&&(this.state=l.NONE,this.maxLength=0,this.angle=0)}t.prototype.start=function(){this.$el.on(this.listeners)},t.prototype.stop=function(){this.$el.off(this.listeners),this.state=l.NONE,this.maxLength=0,this.angle=0},PxTouch.registerSpecialEvents("pxswipe",["pxswipestart","pxswipemove","pxswipeend"],t)}(PxTouch.jQuery||jQuery);